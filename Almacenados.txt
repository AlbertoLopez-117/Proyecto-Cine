drop procedure if exists RegistrarCliente;
delimiter //
create procedure RegistrarCleinte(nom_per varchar(45),apepa_per varchar(45),apema_per varchar(45)
,correo_per varchar(45),dierccion_per text(60),fechaNac_per date, phone_per varchar(11), correo varchar(50),pass varchar(50))
 begin
 INSERT INTO `persona` (`nom_per`, `apepa_per`, `apema_per`, `correo_per`, `dierccion_per`, `fechaNac_per`, `phone_per`)
 VALUES (nom_per, apepa_per, apema_per, correo_per, dierccion_per, fechaNac_per, phone_per);
set @per =(select max(id_per)from persona where id_per= id_per and apepa_per=apepa_per and apema_per=apema_per and correo_per=correo_per and dierccion_per=dierccion_per and fechaNac_per=fechaNac_per and phone_per=phone_per);
 INSERT INTO `usuario` (`correo`, `pass`, `id_per`, `tipo_usu`) VALUES (correo, pass, @per, 'CLIENTE');
 end //
 delimiter ;

drop procedure if exists RegistrarPelicula;
delimiter //
create procedure RegistrarPelicula(titulo varchar(100),director varchar(100),
sinopsis text,fechaEstreno date,fechaCartele date, URLposter text, URLtrailer text,URLweboficial text , idiomas varchar(200), paisorigen varchar(100),  estudioproductor varchar(200))
 begin
 INSERT INTO `peliculas` (`titulo`, `director`, `sinopsis`, `fechaEstreno`, `fechaCartele`, `URLposter`, `URLtrailer`, `URLweboficial`, `idiomas`, `paisorigen`, `estudioproductor`)
 VALUES (titulo, director, sinopsis, fechaEstreno, fechaCartele, URLposter, URLtrailer, URLweboficial, idiomas, paisorigen, estudioproductor);
 end //
 delimiter ;